@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==== THEME TOKENS ==== */
:root {
  --fg: 30,30,30;

  /* background gradient (light) */
  --bg-start: 255,223,186;   /* peach */
  --bg-end:   186,230,255;   /* sky */

  /* brand & UI (light) */
  --brand-1: #7c3aed;  /* violet */
  --brand-2: #f472b6;  /* pink */
  --card-front-1: #ff8a00;   /* orange */
  --card-front-2: #ff3d7f;   /* pink-red */
  --card-back-1: #6d28d9;    /* deep violet */
  --card-back-2: #a21caf;    /* magenta */
  --ok-1: #10b981;           /* emerald */
  --ok-2: #84cc16;           /* lime */
  --bad-1: #ef4444;          /* red */
  --bad-2: #f59e0b;          /* amber */
  --shadow: 0,0,0;
}

@media (prefers-color-scheme: dark) {
  :root {
    --fg: 240,240,240;

    /* background gradient (dark) */
    --bg-start: 40,20,60;    /* deep purple */
    --bg-end:   10,10,30;    /* midnight */

    /* brand & UI (dark) */
    --brand-1: #a78bfa;      /* softer violet */
    --brand-2: #fb7185;      /* rose */
    --card-front-1: #f97316; /* orange-500 */
    --card-front-2: #db2777; /* fuchsia-600 */
    --card-back-1: #8b5cf6;  /* violet-500 */
    --card-back-2: #c026d3;  /* fuchsia-600 */
    --ok-1: #34d399;         /* emerald-400 */
    --ok-2: #a3e635;         /* lime-400 */
    --bad-1: #f87171;        /* red-400 */
    --bad-2: #fbbf24;        /* amber-400 */
    --shadow: 0,0,0;
  }
}

/* ==== GLOBAL ==== */
body {
  color: rgb(var(--fg));
  background: radial-gradient(circle at 20% 20%, rgba(var(--bg-start),0.55), transparent 60%),
              radial-gradient(circle at 80% 60%, rgba(var(--bg-end),0.55), transparent 70%),
              linear-gradient(to bottom, rgb(var(--bg-start)), rgb(var(--bg-end)));
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
}

/* Smooth scroll */
html { scroll-behavior: smooth; }

/* Theming (light/dark toggling via class) */
.dark body {
  background: radial-gradient(circle at 10% 30%, rgba(88,40,120,0.4), transparent 60%),
              radial-gradient(circle at 90% 70%, rgba(20,40,120,0.35), transparent 65%),
              linear-gradient(135deg, #0f0c29 0%, #302b63 40%, #24243e 100%);
}

/* Fancy scrollbars */
*::-webkit-scrollbar { width: 10px; }
*::-webkit-scrollbar-track { background: transparent; }
*::-webkit-scrollbar-thumb { background: linear-gradient(180deg,var(--brand-1),var(--brand-2)); border-radius: 20px; }
* { scrollbar-color: var(--brand-1) transparent; scrollbar-width: thin; }

/* ==== EDUCATIONAL THEME ==== */
.learn-gradient {
  background: linear-gradient(135deg, var(--brand-1) 0%, var(--brand-2) 100%);
}

/* ==== FLASHCARDS ==== */
.flashcard { perspective: 1000px; }

.flashcard-inner {
  position: relative;
  width: 100%;
  height: 200px;
  text-align: center;
  transition: transform 0.6s;
  transform-style: preserve-3d;
}

.flashcard.flipped .flashcard-inner { transform: rotateY(180deg); }

.flashcard-front, .flashcard-back {
  position: absolute;
  inset: 0;
  backface-visibility: hidden;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  box-shadow: 0 6px 14px rgba(var(--shadow), 0.18);
  color: white;
}

.flashcard-front {
  background: linear-gradient(135deg, var(--card-front-1) 0%, var(--card-front-2) 100%);
}

.flashcard-back {
  background: linear-gradient(135deg, var(--card-back-1) 0%, var(--card-back-2) 100%);
  transform: rotateY(180deg);
}

/* GLASS UTILS */
.glass {
  background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(255,255,255,0.06));
  backdrop-filter: blur(14px) saturate(160%);
  -webkit-backdrop-filter: blur(14px) saturate(160%);
  border: 1px solid rgba(255,255,255,0.18);
}

.glass-dark { background: linear-gradient(135deg, rgba(20,20,35,0.55), rgba(30,30,50,0.35)); }

.card-hover { transition: transform .4s cubic-bezier(.4,.2,.2,1), box-shadow .4s; }
.card-hover:hover { transform: translateY(-6px) scale(1.015); box-shadow: 0 18px 40px -15px rgba(0,0,0,.35); }

.gradient-brand { background: linear-gradient(120deg,var(--brand-1),var(--brand-2)); }
.gradient-brand-text { background: linear-gradient(120deg,var(--brand-1),var(--brand-2)); -webkit-background-clip: text; background-clip: text; color: transparent; }

.border-gradient { position: relative; }
.border-gradient:before { content:''; position:absolute; inset:0; padding:1px; border-radius:inherit; background:linear-gradient(120deg,var(--brand-1),var(--brand-2)); -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite: xor; mask-composite: exclude; }

/* Animated gradient background util */
.animated-surface { background-size: 400% 400%; animation: bg-pan 25s linear infinite; }

/* Enter transitions */
.fade-in-up { opacity:0; transform:translateY(12px); animation: fade-in .6s ease forwards; }

/* Utility for subtle grid background */
.bg-grid { background-image: linear-gradient(rgba(255,255,255,0.06) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.06) 1px, transparent 1px); background-size: 40px 40px; }

/* Shadows */
.shadow-glow { box-shadow: 0 0 0 1px rgba(255,255,255,0.15), 0 4px 30px -8px rgba(0,0,0,0.5), 0 0 22px -4px var(--brand-1); }

/* Skeleton shimmer */
@keyframes shimmer { 0% { background-position: -700px 0 } 100% { background-position: 700px 0 } }
.skeleton { position: relative; overflow: hidden; background: linear-gradient(90deg, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.06) 100%); background-size: 1400px 100%; animation: shimmer 2s linear infinite; }

/* ==== QUIZ OPTIONS ==== */
.quiz-option { transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease; }

.quiz-option:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 18px rgba(var(--shadow), 0.22);
}

.quiz-option.correct {
  background: linear-gradient(135deg, var(--ok-1) 0%, var(--ok-2) 100%);
  color: white;
}

.quiz-option.incorrect {
  background: linear-gradient(135deg, var(--bad-1) 0%, var(--bad-2) 100%);
  color: white;
}
